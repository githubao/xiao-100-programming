# xiao-100-programming: 100+ tips for coding

1. bio,nio,aio的区别？

bio就是阻塞的io，来一个请求起一个新的线程处理。
nio是select的轮询机制，注册读写事件之后然后遍历这找有没有新的完成事件。
aio是异步io，epoll实现的有新的事件完成就会主动发送通知

2. cas是什么？

cas是compareAndSwap是一种乐观锁机制，保存原始的值，不断重试能不能修改成功，修改成功的标识是修改过程中从内存中取得的原值没有被修改过。
可以不加锁实现并发安全。

3. 一致性hash

应对缓存分区的问题，如果加减节点不用大批量的迁移数据。
对任一个ip求一个mod(uint32-1)的值，然后需要存储的值到最近的一个缓存节点上去。
可以加很多个虚拟缓存节点保证数据分布均匀。

4. cap理论

分布式系统中，cap不能够同时被满足。consistency(一致性)，availability(可用性)，partition tolerance(分区容错性)。
一致性和可用性的例子：mysql; 一致性和分区容错性的例子: mongodb, hbase, redis;可用性和分区容错性的例子：coachdb, cassandra, dynamodb。
一致性的意思是，所有节点同时看到的数据都是一致的。可用性是指，在合理的响应时间内读和写都要一直可用。分区容错性的意思是如果一个分区故障仍然能够满足一致性和可用性的要求。


5. hash分桶思想

一个事情数据量特别大的时候，可以对key做hash分而治之然后最后再汇总起来，mapreduce的思想。

6. tcp的三次握手和四次挥手

client说"我能连接吗"，server说"能"，client说"好的"
client说"我要断开了", server说"知道了"(还在发送数据，server变成close_wait)，发送完数据后server说"断开吧"，client说"好的"(client关闭了之后进入time_wait等两秒确定收不到来自server的其他消息了)

7. https加密原理
https指的是http over ssl。
step1:client告诉server自己支持的协议和加密算法和一个随机数; step2:server选一种协议顺带公钥和一个随机数给客户端; 
step3: 验证证书合法后(专门的证书机构颁发)，生成一段随机数加密给server; step4: server用client的两个随机数和自己生成的随机数加密生成密钥返回client

8. 约瑟夫环
选举问题，循环链表(ring)，按照固定步长依次选出其中的数字

9. 如何生成一个全局唯一id
snowflake: 41位时间戳+10位机器码(5位数据中心+5位机器)+12位递增序列+0(固定)
业务定制: 32位时间戳+18位递增序列+14位serviceid
mongodb直接生成的方案

10. 树
树: 连通，有一个根节点，不成环
二叉树: 每一个分叉只有两个节点
完全二叉树: 从左到右完全规整排列的二叉树
平衡二叉树: 左右两颗子树的高度不超过1
二叉搜索(查找/排序)树(bst): 左节点的值小于根节点，右节点的值大于根节点 
平衡二叉查找树(avl): 既是二叉平衡树，又是二叉搜索树，最大查找深度是树的高度
红黑树: 弱平衡二叉查找树，最大查找深度是2倍树的高度
B树: 就是avl
B+树: 优化了的平衡多叉查找树
B-树: 平衡多叉查找树
字典树(trie树): 把一个单词按照字母写成树状结构

11. 
